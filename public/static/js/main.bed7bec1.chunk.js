(this.webpackJsonpcreap=this.webpackJsonpcreap||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},24:function(e,t,a){e.exports=a(48)},29:function(e,t,a){},30:function(e,t,a){},37:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),o=(a(29),a(6)),u=a(7),i=a(1),m=(a(30),a(8)),s=a.n(m),d=a(11),E=a(21),p=a.n(E);function f(e){var t=e.titulo,a=void 0===t?"Loja Virtual":t;return r.a.createElement("header",null,r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{src:p.a,alt:"logo do site"})),r.a.createElement("h1",null,a))}function h(){return r.a.createElement("p",null,"Texto que introduz o neg\xf3cio e o servi\xe7o para o usu\xe1rio e permite ao usu\xe1rio navegar para qualquer uma das quatro categorias de produtos.")}function v(e){var t=e.nome,a=(e.ativo,e.img);return r.a.createElement("div",null,r.a.createElement("h6",null,t),r.a.createElement("img",{src:a,alt:t}))}function b(){return r.a.createElement("footer",null,"Newton Paiva 2020 - Todos os direitos reservados")}a(37);function g(){return fetch("https://lojavirtual-api--tarleylana.repl.co/api/v1/categorias/").then((function(e){return e.json()})).catch((function(e){throw console.error("Falha ao tentar obter todas as categorias "+e.message),new Error("N\xe3o foi possivel recuperar as categorias. Favor tentar novamente.")}))}var j=function(){var e=Object(i.f)(),t=Object(n.useState)(!0),a=Object(o.a)(t,2),l=a[0],c=a[1],m=Object(n.useState)([]),E=Object(o.a)(m,2),p=E[0],j=E[1],O=Object(n.useState)(),k=Object(o.a)(O,2),w=k[0],y=k[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:t=e.sent,j(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0.message);case 10:return e.prev=10,c(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("section",{"data-testid":"homeSection"},r.a.createElement("article",null,r.a.createElement(h,null)),r.a.createElement("aside",null,l&&r.a.createElement("h1",null,"Carregando..."),w&&r.a.createElement("h1",null,w,r.a.createElement("button",{onClick:e.push("/")},"Atualizar")),p.filter((function(e){return!0===e.ativa})).map((function(e){return r.a.createElement(u.b,{key:e.id,to:"/categorias/".concat(e.id)},r.a.createElement(v,{nome:e.nome,ativo:e.ativa,img:e.img128}))})))),r.a.createElement(b,null))},O=a(16),k=a(23);a(42),a(43),a(44),a(45),a(46);function w(e){return fetch("https://lojavirtual-api--tarleylana.repl.co/api/v1/produtos?idCategoria="+e).then((function(e){return e.json()})).catch((function(t){return console.error("Falha ao tentar obter todas os produtos da categoria ".concat(e,". Motivo: ").concat(t.message)),[]}))}function y(e){var t=e.adicionarProduto,a=Object(i.f)(),l=Object(i.g)().id,c=Object(n.useState)(!0),u=Object(o.a)(c,2),m=u[0],E=u[1],p=Object(n.useState)([]),h=Object(o.a)(p,2),v=h[0],j=h[1],y=Object(n.useState)([]),C=Object(o.a)(y,2),x=C[0],q=C[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,j(t),E(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(l);case 2:t=e.sent,q(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l]);var S=[{label:"Quer ver outra categoria?",items:v.map((function(e){return{label:e.nome,command:function(){return a.push("/categorias/".concat(e.id))}}}))}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{titulo:"Categoria  ".concat(l)}),r.a.createElement("nav",null,r.a.createElement(O.Button,{label:"Ver Carrinho de Compras",className:"p-button-success",onClick:function(){return a.push("/compras")}})),r.a.createElement("section",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement(k.Menu,{model:S}))),r.a.createElement("aside",null,m&&r.a.createElement("h1",null,"Carregando..."),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Imagem"),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Pre\xe7o"),r.a.createElement("th",null,"A\xe7\xe3o"))),r.a.createElement("tbody",null,x.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("img",{src:e.img,alt:e.nome})),r.a.createElement("td",null,r.a.createElement("p",null,e.nome),r.a.createElement("p",null,e.descricao)),r.a.createElement("td",null,e.preco),r.a.createElement("td",null,r.a.createElement(O.Button,{label:"Comprar",icon:"pi pi-check",iconPos:"right",onClick:function(){return t(e)}})))})))))),r.a.createElement(b,null))}a(47);function C(e){var t=e.compras,a=e.limpar,n=e.remover,l=Object(i.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("nav",{id:"botoes-nav"},r.a.createElement("button",{onClick:function(){return a()}},"Limpar carrinho"),r.a.createElement("button",{onClick:function(){return l.push("/")}},"Continuar comprando"),r.a.createElement("button",null,"Finalizar compra")),r.a.createElement("section",{id:"section-total"},r.a.createElement("span",null,"Total da compra:"),r.a.createElement("span",null," R$ 1.587,55")),r.a.createElement("section",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Imagem"),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Quantidade"),r.a.createElement("th",null,"Pre\xe7o"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"A\xe7\xe3o"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.produto.id},r.a.createElement("td",null,r.a.createElement("img",{src:e.produto.img,alt:e.produto.nome})),r.a.createElement("td",null,e.produto.nome),r.a.createElement("td",null,e.quantidade),r.a.createElement("td",null,e.produto.preco),r.a.createElement("td",null,e.quantidade*e.produto.preco),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return n(e)}},"Remover")))}))))),r.a.createElement(b,null))}var x=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(j,null)),r.a.createElement(i.a,{path:"/categorias/:id"},r.a.createElement(y,{adicionarProduto:function(e){var t=a.find((function(t){return t.produto.id===e.id}));t?t.quantidade=t.quantidade+1:(t={produto:e,quantidade:1},a.push(t)),l(a),console.log("adicionarProduto",JSON.stringify(a))}})),r.a.createElement(i.a,{path:"/compras"},r.a.createElement(C,{compras:a,limpar:function(){l([])},remover:function(e){var t=a.filter((function(t){return t.produto.id!==e.produto.id}));l(t)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.bed7bec1.chunk.js.map